@model IEnumerable<IMS.Models.User>

 @{
     ViewData["Title"] = "Керування користувачами";
     Layout = "_Layout"; 
 }

 <h1>@ViewData["Title"]</h1>

 <p>
     <a asp-action="CreateUser" class="btn btn-primary">Створити нового користувача</a>
 </p>


 @* @if (TempData["SuccessMessage"] != null) *@
 @* { *@
 @*     <div class="alert alert-success">@TempData["SuccessMessage"]</div> *@
 @* } *@
 @* @if (TempData["ErrorMessage"] != null) *@
 @* { *@
 @*      <div class="alert alert-danger">@TempData["ErrorMessage"]</div> *@
 @* } *@


 <table class="table table-striped table-hover">
     <thead>
         <tr>
             <th>
                 @Html.DisplayNameFor(model => model.First().Username)
             </th>
             <th>
                 @Html.DisplayNameFor(model => model.First().Role)
             </th>
             <th>
                 Прив'язаний комірник
             </th>
             <th></th>
         </tr>
     </thead>
     <tbody>
 @foreach (var user in Model) {
         <tr>
             <td>
                 @Html.DisplayFor(modelItem => user.Username)
             </td>
             <td>
                 @Html.DisplayFor(modelItem => user.Role)
             </td>
             <td>
                 @if (user.StorageKeeper != null)
                 {
                     <span>@user.StorageKeeper.LastName @user.StorageKeeper.FirstName (@user.StorageKeeper.PhoneNumber)</span>
                 }
                 else
                 {
                     <span class="text-muted">-- Немає --</span>
                 }
             </td>
             <td>
                 <a asp-action="EditUser" asp-route-id="@user.UserId" class="btn btn-sm btn-outline-secondary">Редагувати</a> |
                 <a asp-action="DeleteUser" asp-route-id="@user.UserId" class="btn btn-sm btn-outline-danger">Видалити</a>
             </td>
         </tr>
 }
     </tbody>
 </table>