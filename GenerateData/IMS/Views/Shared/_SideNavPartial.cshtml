@using System.Security.Claims
@using IMS.Models

@if (User.Identity != null && User.Identity.IsAuthenticated)
{
    <nav class="nav flex-column">
        <li class="nav-item">
            <a class="nav-link" asp-area="" asp-controller="Home" asp-action="Index">Дашборд</a>
        </li>

        @if (User.IsInRole(UserRole.storage_keeper.ToString()) || User.IsInRole(UserRole.manager.ToString()) || User.IsInRole(UserRole.owner.ToString()))
        {
            <li class="nav-item nav-section-header">
                Запаси
            </li>
            <li class="nav-item ms-2">
                <a class="nav-link" asp-controller="StorageProduct" asp-action="Index">Поточні залишки</a> 
            </li>
            <li class="nav-item ms-2">
                <a class="nav-link" asp-controller="Invoice" asp-action="Index">Накладні</a> 
            </li>
        }

        @if (User.IsInRole(UserRole.storage_keeper.ToString()) || User.IsInRole(UserRole.manager.ToString()) || User.IsInRole(UserRole.owner.ToString()))
        {
            <li class="nav-item nav-section-header">
                Довідники
            </li>
            <li class="nav-item ms-2">
                <a class="nav-link" asp-controller="Product" asp-action="Index">Товари</a>
            </li>
            <li class="nav-item ms-2">
                <a class="nav-link" asp-controller="Storage" asp-action="Index">Склади</a>
            </li>
        }
        @if (User.IsInRole(UserRole.manager.ToString()) || User.IsInRole(UserRole.owner.ToString()))
        {
            <li class="nav-item ms-2">
                <a class="nav-link" asp-controller="ProductUnit" asp-action="Index">Одиниці виміру</a>
            </li>
            <li class="nav-item ms-2">
                <a class="nav-link" asp-controller="Counterparty" asp-action="Index">Контрагенти</a>
            </li>
        }

        @if (User.IsInRole(UserRole.manager.ToString()) || User.IsInRole(UserRole.owner.ToString()))
        {
            <li class="nav-item nav-section-header">
                Персонал 
            </li>
            <li class="nav-item ms-2">
                <a class="nav-link" asp-controller="StorageKeeper" asp-action="Index">Комірники</a>
            </li>
        }

        @if (User.IsInRole(UserRole.owner.ToString()))
        {
            <li class="nav-item nav-section-header">
                Адміністрування
            </li>
            <li class="nav-item ms-2">
                <a class="nav-link" asp-controller="Admin" asp-action="Users">Облікові записи</a>
            </li>
        }
    </nav>
}